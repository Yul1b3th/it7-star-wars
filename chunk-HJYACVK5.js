import{b as M}from"./chunk-I2SWCO7U.js";import{a as $}from"./chunk-DMEO6WFL.js";import{$ as a,Aa as F,B as P,C as b,Da as j,G as d,H as m,K as w,P as o,Q as y,T as v,U as L,V as h,W as g,X as k,Y as f,Z as S,_ as s,ba as u,da as _,ea as l,fa as V,ga as p,ha as C,ia as T,ka as E,ma as I,pa as N}from"./chunk-4WTJQ336.js";var D=(t,r)=>r.id;function O(t,r){if(t&1){let e=u();s(0,"button",4),_("click",function(){d(e);let n=l(2);return m(n.loadPreviousPage())}),p(1," Previous "),a()}}function R(t,r){if(t&1){let e=u();s(0,"button",4),_("click",function(){let c=d(e).$implicit,x=l(2);return m(x.loadPage(c))}),p(1),a()}if(t&2){let e=r.$implicit,i=l(2);L("active",i.currentPageNumber===e),o(1),T(" ",e," ")}}function z(t,r){if(t&1){let e=u();s(0,"button",4),_("click",function(){d(e);let n=l(2);return m(n.loadNextPage())}),p(1," Next "),a()}}function A(t,r){if(t&1&&(h(0,O,2,0,"button",3),f(1,R,2,3,"button",5,k),h(3,z,2,0,"button",3)),t&2){let e=l();g(0,e.starshipsService.previousPage()?0:-1),o(1),S(e.getPages()),o(2),g(3,e.starshipsService.nextPage()?3:-1)}}var B=t=>["/starship",t];function U(t,r){if(t&1){let e=u();s(0,"div",6)(1,"div",7)(2,"img",8),_("error",function(n){d(e);let c=l();return m(c.handleImageError(n))}),a()(),s(3,"div",9)(4,"h2",10),p(5),a(),s(6,"p",11),p(7),a()(),s(8,"div",12)(9,"a",13),_("click",function(){let c=d(e).$implicit,x=l();return m(x.loadStarshipDetails(c.id))}),p(10,"More info"),a()()()}if(t&2){let e=r.$implicit;o(2),V("alt",e.name),v("src",e.pic,w),o(3),C(e.name),o(2),C(e.model),o(2),v("routerLink",I(5,B,e.id))}}function q(t,r){t&1&&(s(0,"h3",14),p(1,"Loading..."),a())}var Z=(()=>{let r=class r{constructor(i){this.accountService=i,this.starshipsService=P($),this.currentPageNumber=1,this.user=this.accountService.userValue}ngOnInit(){this.starshipsService.loadInitialPage(),this.currentPageNumber=this.starshipsService.getCurrentPageNumber()}loadPreviousPage(){this.starshipsService.loadPreviousPage(),this.currentPageNumber--}loadNextPage(){let i=this.starshipsService.nextPage();i&&(this.starshipsService.loadStarshipsPage(i),this.currentPageNumber++)}loadStarshipDetails(i){this.starshipsService.loadStarshipDetails(i)}loadPage(i){this.starshipsService.loadStarshipsPage(`https://swapi.dev/api/starships/?page=${i}&format=json`),this.currentPageNumber=i}getPages(){return this.starshipsService.getPages()}handleImageError(i){i.target.src="https://starwars-visualguide.com/assets/img/big-placeholder.jpg"}};r.\u0275fac=function(n){return new(n||r)(y(M))},r.\u0275cmp=b({type:r,selectors:[["app-starships-list"]],standalone:!0,features:[E],decls:7,vars:2,consts:[[1,"container","starships-list"],[1,"py-3","d-flex","justify-content-end","gap-2"],[1,"d-flex","flex-wrap","justify-content-center","gap-3"],["class","btn btn-outline-primary"],[1,"btn","btn-outline-primary",3,"click"],["class","btn btn-outline-primary",3,"active"],[1,"card"],[1,"pic-list"],["alt","starship.name",1,"card-img-top",3,"src","alt","error"],[1,"card-body"],[1,"fs-5","card-title"],[1,"card-text"],[1,"card-footer","text-body-secondary","bg-white","border-0"],[1,"card-link","btn","btn-primary",3,"routerLink","click"],[1,"text-center"],["class","card"]],template:function(n,c){n&1&&(s(0,"div",0)(1,"div",1),h(2,A,4,2),a(),s(3,"div",2),f(4,U,11,7,"div",15,D,!1,q,2,0),a()()),n&2&&(o(2),g(2,c.starshipsService.starshipsList().length>0?2:-1),o(2),S(c.starshipsService.starshipsList()))},dependencies:[N,j,F],styles:[".card[_ngcontent-%COMP%]{width:13rem}"]});let t=r;return t})();export{Z as default};
