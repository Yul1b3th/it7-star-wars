import{a as G}from"./chunk-DMEO6WFL.js";import{$ as r,B as b,C as h,Da as B,G as j,H as k,K as v,P as n,Q as P,T as c,V as U,W as L,X as I,Y as _,Z as C,_ as a,aa as u,ba as A,da as R,ea as E,fa as $,ga as o,ha as z,ia as p,ka as g,pa as S,xa as V}from"./chunk-4WTJQ336.js";function H(i,e){if(i&1&&(a(0,"div"),u(1,"img",2),r()),i&2){let s=e.$implicit;n(1),c("src",s,v)}}function J(i,e){i&1&&(a(0,"p",3),o(1,"There are no related items for this category"),r())}var W=(()=>{let e=class e{constructor(){this.pilotImages=[]}};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=h({type:e,selectors:[["app-pilot-card"]],inputs:{pilotImages:"pilotImages"},standalone:!0,features:[g],decls:7,vars:1,consts:[[1,"text-center","text-dark","fs-4"],[1,"d-flex","justify-content-center","gap-3"],["alt","Pilot Image",1,"img-fluid","smallcard",3,"src"],[1,"text-center","text-dark"]],template:function(t,m){t&1&&(a(0,"div")(1,"h3",0),o(2,"Related Pilots"),r(),a(3,"div",1),_(4,H,2,1,"div",null,I,!1,J,2,0),r()()),t&2&&(n(4),C(m.pilotImages))},dependencies:[S]});let i=e;return i})();function K(i,e){if(i&1&&(a(0,"div"),u(1,"img",2),r()),i&2){let s=e.$implicit;n(1),c("src",s,v)}}function N(i,e){i&1&&(a(0,"p",3),o(1,"There are no related items for this category"),r())}var q=(()=>{let e=class e{constructor(){this.filmImages=[]}ngOnInit(){}};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=h({type:e,selectors:[["app-film-card"]],inputs:{filmImages:"filmImages"},standalone:!0,features:[g],decls:7,vars:1,consts:[[1,"text-center","text-dark","fs-4"],[1,"d-flex","justify-content-center","gap-3"],["alt","Film Image",1,"img-fluid","smallcard",3,"src"],[1,"text-center","text-dark"]],template:function(t,m){t&1&&(a(0,"div")(1,"h3",0),o(2,"Related Films"),r(),a(3,"div",1),_(4,K,2,1,"div",null,I,!1,N,2,0),r()()),t&2&&(n(4),C(m.filmImages))},dependencies:[S]});let i=e;return i})();function Q(i,e){if(i&1){let s=A();a(0,"div",1)(1,"div",2)(2,"img",3),R("error",function(t){j(s);let m=E();return k(m.handleImageError(t))}),r()(),a(3,"div",4)(4,"h2",5),o(5),r(),a(6,"p",6),o(7),r(),a(8,"p",6),o(9),r(),a(10,"p",6),o(11),r(),a(12,"p",6),o(13),r(),a(14,"p",6),o(15),r(),a(16,"p",6),o(17),r(),a(18,"p",6),o(19),r(),a(20,"p",6),o(21),r(),a(22,"p",6),o(23),r()()(),a(24,"div",7)(25,"div",8)(26,"div",9),u(27,"app-pilot-card",10),r()(),a(28,"div",8)(29,"div",9),u(30,"app-film-card",11),r()()()}if(i&2){let s=E(),l,t,m,d,x,f,y,D,F,T,w,M;n(2),$("alt",(l=s.starshipsService.selectedStarshipDetails())==null?null:l.name),c("src",(t=s.starshipsService.selectedStarshipDetails())==null?null:t.pic,v),n(3),z((m=s.starshipsService.selectedStarshipDetails())==null?null:m.name),n(2),p("Model: ",(d=s.starshipsService.selectedStarshipDetails())==null?null:d.model,""),n(2),p("Manufacturer: ",(x=s.starshipsService.selectedStarshipDetails())==null?null:x.manufacturer,""),n(2),p("Cost in credits: ",(f=s.starshipsService.selectedStarshipDetails())==null?null:f.cost_in_credits,""),n(2),p("Length: ",(y=s.starshipsService.selectedStarshipDetails())==null?null:y.length,""),n(2),p("Max atmosphering speed: ",(D=s.starshipsService.selectedStarshipDetails())==null?null:D.max_atmosphering_speed,""),n(2),p("crew: ",(F=s.starshipsService.selectedStarshipDetails())==null?null:F.crew,""),n(2),p("passengers: ",(T=s.starshipsService.selectedStarshipDetails())==null?null:T.passengers,""),n(2),p("Cargo capacity: ",(w=s.starshipsService.selectedStarshipDetails())==null?null:w.cargo_capacity,""),n(2),p("MGLT: ",(M=s.starshipsService.selectedStarshipDetails())==null?null:M.MGLT,""),n(4),c("pilotImages",s.pilotImages),n(3),c("filmImages",s.filmImages)}}function X(i,e){i&1&&o(0," Loading information... ")}var pe=(()=>{let e=class e{constructor(l){this.route=l,this.starshipsService=b(G),this.starshipId=null,this.pilotImages=[],this.filmImages=[],this.route.params.subscribe(t=>{if(this.starshipId=t.id,this.starshipId){this.starshipsService.loadStarshipDetails(this.starshipId);let m=this.starshipsService.selectedStarshipDetails();if(m){let d=this.extractIdsFromUrls(m.pilots),x=this.extractIdsFromUrls(m.films);this.pilotImages=d.map(f=>`https://starwars-visualguide.com/assets/img/characters/${f}.jpg`),this.filmImages=x.map(f=>`https://starwars-visualguide.com/assets/img/films/${f}.jpg`)}}})}extractIdsFromUrls(l){return l.map(t=>{let d=t.split("/")[5];return d?parseInt(d,10):0})}isImageLoaded(l){if(!l)return!1;let t=new Image;return t.src=l,t.complete&&t.naturalWidth!==0}isImageAvailable(l){return!!l}handleImageError(l){l.target.src="https://starwars-visualguide.com/assets/img/big-placeholder.jpg"}};e.\u0275fac=function(t){return new(t||e)(P(V))},e.\u0275cmp=h({type:e,selectors:[["app-starships-card"]],standalone:!0,features:[g],decls:3,vars:1,consts:[[1,"container","mt-5"],[1,"row","mb-5"],[1,"col-12","col-md-5","p-0"],[1,"img-fluid",3,"src","alt","error"],[1,"col-12","col-md-7","p-0","bg-white","text-dark","p-3","pb-0"],[1,"fs-3","mb-1"],[1,"fs-6","mb-1"],[1,"row","gap-3"],[1,"col","p-0"],[1,"bg-white","p-3","h-100"],[3,"pilotImages"],[3,"filmImages"]],template:function(t,m){t&1&&(a(0,"div",0),U(1,Q,31,14)(2,X,1,0),r()),t&2&&(n(1),L(1,m.starshipsService.selectedStarshipDetails()?1:2))},dependencies:[S,B,W,q]});let i=e;return i})();export{pe as default};
