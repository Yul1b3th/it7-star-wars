import{a as L,b as v,c as j,d as B,e as U,f as A,g as M,h as P,i as D}from"./chunk-E25K6SQI.js";import{a as G}from"./chunk-APEKR53Y.js";import{a as T,b as w,c as I}from"./chunk-I2SWCO7U.js";import{$ as t,Aa as F,C as h,Da as k,P as r,Q as u,T as p,V as l,W as s,_ as n,aa as c,da as x,ea as g,ga as a,ka as E,ma as b,oa as N,pa as R,r as S,xa as y,za as q}from"./chunk-4WTJQ336.js";function X(e,o){e&1&&(n(0,"div"),a(1,"First Name is required"),t())}function z(e,o){if(e&1&&(n(0,"div",24),l(1,X,2,0,"div"),t()),e&2){let m=g();r(1),s(1,m.f.firstName.errors.required?1:-1)}}function H(e,o){e&1&&(n(0,"div"),a(1,"Last Name is required"),t())}function J(e,o){if(e&1&&(n(0,"div",24),l(1,H,2,0,"div"),t()),e&2){let m=g();r(1),s(1,m.f.lastName.errors.required?1:-1)}}function K(e,o){e&1&&(n(0,"div"),a(1,"Username is required"),t())}function Q(e,o){if(e&1&&(n(0,"div",24),l(1,K,2,0,"div"),t()),e&2){let m=g();r(1),s(1,m.f.username.errors.required?1:-1)}}function W(e,o){e&1&&(n(0,"div"),a(1,"Password is required"),t())}function Y(e,o){e&1&&(n(0,"div"),a(1,"Password must be at least 6 characters"),t())}function Z(e,o){if(e&1&&(n(0,"div",24),l(1,W,2,0,"div")(2,Y,2,0,"div"),t()),e&2){let m=g();r(1),s(1,m.f.password.errors.required?1:-1),r(1),s(2,m.f.password.errors.minlength?2:-1)}}function $(e,o){e&1&&c(0,"span",25)}var C=e=>({"is-invalid":e}),ce=(()=>{let o=class o{constructor(d,f,i,_,V,O){this.formBuilder=d,this.route=f,this.router=i,this.accountService=_,this.alertService=V,this.fakeBackendService=O,this.loading=!1,this.submitted=!1,this.accountService.userValue&&this.router.navigate(["/"])}ngOnInit(){this.getUsers(),this.form=this.formBuilder.group({firstName:["",v.required],lastName:["",v.required],username:["",v.required],password:["",[v.required,v.minLength(6)]]})}getUsers(){this.fakeBackendService.getUsers().subscribe(d=>{console.log("Usuarios desde el backend falso:",d)},d=>{console.error("Error al obtener usuarios desde el backend falso:",d)})}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.alertService.clear(),!this.form.invalid&&(this.loading=!0,this.accountService.register(this.form.value).pipe(S()).subscribe({next:()=>{this.alertService.success("Registration successful",!0),this.router.navigate(["/login"],{queryParams:{registered:!0}})},error:d=>{this.alertService.error(d),this.loading=!1}}))}};o.\u0275fac=function(f){return new(f||o)(u(P),u(y),u(q),u(w),u(I),u(T))},o.\u0275cmp=h({type:o,selectors:[["app-register"]],standalone:!0,features:[E],decls:42,vars:19,consts:[[1,"bg-account"],[1,"container"],[1,"text-center","pt-3"],[1,"pt-5","pb-3"],["src","assets/thr-logos-800_cf05c8d8.png","alt","",1,"bg-account-logo"],[1,"pb-3"],[1,"btn","btn-primary","btn-lg","rounded-pill",2,"--bs-btn-padding-x","2rem"],[1,"col-md-6","offset-md-3","mt-5","pb-5"],[1,"card","mb-3"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"mb-3"],[1,"form-label"],["type","text","formControlName","firstName",1,"form-control",3,"ngClass"],["class","invalid-feedback"],["type","text","formControlName","lastName",1,"form-control",3,"ngClass"],["type","text","formControlName","username",1,"form-control",3,"ngClass"],["type","password","formControlName","password",1,"form-control",3,"ngClass"],[1,"d-flex","gap-3"],[1,"btn","btn-primary","btn-lg","rounded-pill",2,"--bs-btn-padding-x","2rem",3,"disabled"],["class","spinner-border spinner-border-sm me-1"],["routerLink","",1,"btn","btn-outline-secondary","btn-lg","rounded-pill",2,"--bs-btn-padding-x","2rem"],[1,"mb-5"],[1,"invalid-feedback"],[1,"spinner-border","spinner-border-sm","me-1"]],template:function(f,i){f&1&&(n(0,"div",0)(1,"div",1)(2,"header",2)(3,"div",3),c(4,"img",4),t(),n(5,"h2",5),a(6,"Lorem ipsum dolor sit amet."),t(),n(7,"button",6),a(8,"EXPLORE"),t()(),n(9,"div",7)(10,"div",8)(11,"h4",9),a(12,"Register"),t(),n(13,"div",10)(14,"form",11),x("ngSubmit",function(){return i.onSubmit()}),n(15,"div",12)(16,"label",13),a(17,"First Name"),t(),c(18,"input",14),l(19,z,2,1,"div",15),t(),n(20,"div",12)(21,"label",13),a(22,"Last Name"),t(),c(23,"input",16),l(24,J,2,1,"div",15),t(),n(25,"div",12)(26,"label",13),a(27,"Username"),t(),c(28,"input",17),l(29,Q,2,1,"div",15),t(),n(30,"div",12)(31,"label",13),a(32,"Password"),t(),c(33,"input",18),l(34,Z,3,2,"div",15),t(),n(35,"div",19)(36,"button",20),l(37,$,1,0,"span",21),a(38," Register "),t(),n(39,"a",22),a(40,"Cancel"),t()()()()(),c(41,"alert",23),t()()()),f&2&&(r(14),p("formGroup",i.form),r(4),p("ngClass",b(11,C,i.submitted&&i.f.firstName.errors)),r(1),s(19,i.submitted&&i.f.firstName.errors?19:-1),r(4),p("ngClass",b(13,C,i.submitted&&i.f.lastName.errors)),r(1),s(24,i.submitted&&i.f.lastName.errors?24:-1),r(4),p("ngClass",b(15,C,i.submitted&&i.f.username.errors)),r(1),s(29,i.submitted&&i.f.username.errors?29:-1),r(4),p("ngClass",b(17,C,i.submitted&&i.f.password.errors)),r(1),s(34,i.submitted&&i.f.password.errors?34:-1),r(2),p("disabled",i.loading),r(1),s(37,i.loading?37:-1))},dependencies:[R,N,D,U,L,j,B,A,M,k,F,G]});let e=o;return e})();export{ce as default};
